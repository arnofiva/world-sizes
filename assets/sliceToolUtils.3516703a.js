var Dt=Object.defineProperty;var Ie=Object.getOwnPropertySymbols;var zt=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable;var je=(t,e,i)=>e in t?Dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,be=(t,e)=>{for(var i in e||(e={}))zt.call(e,i)&&je(t,i,e[i]);if(Ie)for(var i of Ie(e))Ut.call(e,i)&&je(t,i,e[i]);return t};import{kl as Wt,k1 as Vt,J as w,d as H,bc as te,iq as xe,x as Gt,eQ as qt,km as Ne,kn as Me,ko as Ht,k3 as gt,hi as Bt,kp as Yt,dy as V,aI as S,kq as z,al as Xt,jm as pt,jb as Qt,kr as Zt,jr as Jt,ks as De,K as R,ba as L,k4 as Kt,gS as mt,k6 as ve,M as T,ey as ze,ec as Ue,jJ as Oe,kt as We,dW as B,ku as ei,kv as Ve,jo as m,bb as P,kw as Ge,aF as de,jt as ti,f9 as ii,kx as si,ky as ri,a$ as ni,Z as ai,bk as oi,an as ci,kd as li,aC as ne,iS as ye,kz as y,bl as ie,js as di,b8 as G,fd as U,kA as hi,ew as Q,bF as ui,kB as gi,kC as pi,iR as he,kD as Se,dV as mi,cE as $,cC as ft,cD as fi,cF as _i,cK as bi,cm as _,cG as vi,cH as yi,kE as Ei,cI as k,cN as I,cO as j,cP as se,cQ as _t,cS as bt,cT as vt,cV as yt,cW as Ti,cX as Et,kF as wi,cY as Oi,cZ as Tt,jY as Si,c_ as $i,c$ as Ai,hc as le,d1 as Ri,d2 as Li,d3 as wt,kG as Pi,cR as Ot,dU as Ci,iF as q,d8 as St,d9 as $t,db as $e,dd as ki,dc as Y,iX as At,jZ as Fi,kH as Ii,kI as ji,kJ as xi,kK as Ni,b7 as Mi,kL as Di,j$ as X,iY as O,g_ as Rt,kk as pe,iG as Lt,dT as zi,bo as Ui,gm as Wi,av as Vi,cU as Gi,iW as qi,cM as ae,de as Hi,df as Bi,ii as qe,f4 as He,cj as x,ax as Yi,eS as Z,kM as Pt,k0 as Ct,kN as Xi,kO as kt,kP as Le,jw as Qi,cl as Zi,hP as D,kQ as Be,eh as Ye,kR as Xe,kS as Qe,iV as Ji,iJ as Ae,kT as Ft,kU as Ze,ki as It,kV as Ki,kW as Re,kX as es,kY as ts}from"./vendor.5a0f9a12.js";import{w as ee}from"./persistable.e960b349.js";import{n as is,g as ss,b as rs}from"./LineVisualElement.9378dd44.js";import{m as ns}from"./ImageMaterial.2d7ab4ce.js";let N=class extends Wt(qt){constructor(t){super(t),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&Vt(this.position,t.position)&&this.width===t.width&&this.height===t.height}};w([H({readOnly:!0,json:{read:!1,write:!0}})],N.prototype,"type",void 0),w([H({type:te}),ee()],N.prototype,"position",void 0),w([H({type:Number,nonNullable:!0,range:{min:0,max:360}}),ee(),xe(t=>Ne.normalize(Me(t),0,!0))],N.prototype,"heading",void 0),w([H({type:Number,nonNullable:!0,range:{min:0,max:360}}),ee(),xe(t=>Ne.normalize(Me(t),0,!0))],N.prototype,"tilt",void 0),w([H({type:Number,nonNullable:!0}),ee()],N.prototype,"width",void 0),w([H({type:Number,nonNullable:!0}),ee()],N.prototype,"height",void 0),N=w([Gt("esri.analysis.SlicePlane")],N);const as=N;class Pe{constructor(e){this.camera=new Yt,this._elevation={offset:0,override:null},this.collisionType={type:"point"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=V(),this._worldFrame=null,this._renderLocation=S(),this._renderLocationDirty=!0,this._location=new te({x:0,y:0,z:0}),this._elevationAlignedLocation=new te,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=z.None,this._focused=!1,this.events=new Xt.EventEmitter,this._screenLocation={screenPointArray:pt(),renderScreenPointArray:Qt(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const i in e)this[i]=e[i];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,this._noDisplayCount===1&&this._updateEngineObject(),{remove:Zt(()=>{this._noDisplayCount--,this._noDisplayCount===0&&this._updateEngineObject()})}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){Je(e)&&(this._screenLocationDirty=!0),Jt(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=V()),os(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){De(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){De(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=R(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,i){i?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit("focus-changed",{action:e===!0?"focus":"unfocus"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(Je(this._modelTransform)){const i=this._calculateModelTransformOffset(ds);e=L(i,i,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(e,i){if(!this.available)return null;const s=Kt(e,cs),n=this._getCollisionRadius(i),r=-1*this.collisionPriority;switch(this.collisionType.type){case"point":if(ri(this.screenLocation.screenPointArray,s)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case"line":{const c=this.collisionType.paths,h=this._getWorldToScreenObjectScale(),d=this._calculateObjectTransform(h,oe),l=n*this.screenLocation.pixelSize,o=ve(this.camera,s,Ee);if(T(o))return null;for(const u of c){if(u.length===0)continue;const v=B(re,u[0],d);for(let p=1;p<u.length;p++){const g=B(tt,u[p],d),f=si(Ve(v,g,Ke),o);if(f!=null&&f<l*l){const E=L(m.get(),v,g);P(E,E,.5);const b=Ge(m.get());return this.camera.projectToRenderScreen(E,b),b[2]+r}de(v,g)}}break}case"disc":{var a;const c=this.collisionType.direction,h=(a=this.collisionType.offset)!=null?a:ti,d=this._getWorldToScreenObjectScale(),l=this._calculateObjectTransform(d,oe),o=n*this.screenLocation.pixelSize,u=ve(this.camera,s,Ee);if(T(u))return null;const v=ze(et,l),p=Ue(st,c,v),g=B(rt,h,l);Oe(g,p,ce);const f=it;if(We(ce,u,f)&&ii(f,g)<o*o)return this.screenLocation.renderScreenPointArray[2]+r;break}case"ribbon":{const{paths:c,direction:h}=this.collisionType,d=this._getWorldToScreenObjectScale(),l=this._calculateObjectTransform(d,oe),o=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),u=ve(this.camera,s,Ee);if(T(u))return null;const v=ze(et,l),p=Ue(st,h,v),g=this._calculateModelTransformPosition(rt);Oe(g,p,ce);const f=it;if(!We(ce,u,f))break;for(const E of c){if(E.length===0)continue;const b=B(re,E[0],l);for(let F=1;F<E.length;F++){const M=B(tt,E[F],l),ke=ei(Ve(b,M,Ke),f);if(ke!=null&&ke<o*o){const _e=L(m.get(),b,M);P(_e,_e,.5);const Fe=Ge(m.get());return this.camera.projectToRenderScreen(_e,Fe),Fe[2]+r}de(b,M)}}break}default:mt(this.collisionType)}return null}attach(e={manipulator3D:{}}){var i;if(!this.view._stage)return;const s=e.manipulator3D;if(T(s.engineLayerId)){const n=new ni({isPickable:!1,updatePolicy:ai.SYNC});this.view._stage.add(n),s.engineLayerId=n.id,this._engineLayer=n}else(i=this.view._stage)!=null&&i.getObject&&(this._engineLayer=this.view._stage.getObject(s.engineLayerId));s.engineLayerReferences=(s.engineLayerReferences||0)+1,this._materialIdReferences=s.materialIdReferences,T(this._materialIdReferences)&&(this._materialIdReferences=new Map,s.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),oi(this._location.spatialReference,this.view.spatialReference)||(this.location=new te({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const i=e.manipulator3D;i.engineLayerReferences--;const s=i.engineLayerReferences===0;s&&(i.engineLayerId=null),this._removeResourcesFromStage(s),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){ci(this.location,nt,e.spatialReference),li(e.extent,nt)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(T(this.elevationInfo))return!1;let i=null,s=0;const n=ne(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case"on-the-ground":i=ne(ye(this.view.elevationProvider,e,"ground"),0);break;case"relative-to-ground":s=ne(ye(this.view.elevationProvider,e,"ground"),0)+n;break;case"relative-to-scene":s=ne(ye(this.view.elevationProvider,e,"scene"),0)+n;break;case"absolute-height":s=n}return(s!==this._elevation.offset||i!==this._elevation.override)&&(this._elevation.offset=s,this._elevation.override=i,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),i=oe;if(this.autoScaleRenderObjects===!0){const a=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(a,i)}else this._calculateObjectTransform(e,i);const{objectsByState:s}=this._ensureEngineResources(),n=(this.focused?y.Focused:y.Unfocused)|(this.selected?y.Selected:y.Unselected),r=this._noDisplayCount>0;for(const{stateMask:a,objects:c}of s){if(r){for(const u of c)u.setVisible(!1);continue}const h=(a&y.All)!==y.None,d=(a&z.All)!==z.None,l=!h||(n&a)==(a&y.All),o=!d||(this.state&a)==(a&z.All);if(l&&o)for(const u of c)u.setVisible(!0),u.transformation=i;else for(const u of c)u.setVisible(!1)}}_ensureEngineResources(){if(T(this._engineResources)){const e=ie(this._engineLayer),i=[],s=new Set;this.renderObjects.forEach(({material:c})=>{s.has(c)||(i.push(c),s.add(c))});const n=(c,h)=>{const{geometry:d,material:l,transform:o}=h;Array.isArray(d)?d.forEach(u=>c.addGeometry(u,l,o)):c.addGeometry(d,l,o)},r=new Map;this._renderObjects.forEach(c=>{const h=new di({castShadow:!1});n(h,c);const d=c.stateMask||0,l=r.get(d)||[];l.push(h),r.set(d,l)});const a=[];r.forEach((c,h)=>a.push({stateMask:h,objects:c})),this._engineResources={objectsByState:a,layer:e,materials:i}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||T(this._engineResources))return;const{objectsByState:e,layer:i,materials:s}=this._engineResources;s.forEach(n=>{const r=ie(this._materialIdReferences),a=r.get(n.id)||0;a===0&&this.view._stage.add(n),r.set(n.id,a+1)}),e.forEach(({objects:n})=>{i.addMany(n),this.view._stage.addMany(n)}),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||T(this._engineResources)||!this.view._stage)return;const{objectsByState:i,layer:s,materials:n}=this._engineResources;i.forEach(({objects:r})=>{s.removeMany(r),this.view._stage.removeMany(r)}),n.forEach(r=>{const a=ie(this._materialIdReferences),c=a.get(r.id);c===1?(this.view._stage.remove(r),a.delete(r.id)):a.set(r.id,c-1)}),e&&this.view._stage.remove(s),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(e==="touch"?this.touchMultiplier:1)}_getFocusedSize(e,i){return e*(i?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const i=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(i,ls);return G(e,s[12],s[13],s[14])}_calculateModelTransformOffset(e){const i=this._calculateModelTransformPosition(e);return U(e,i,this.renderLocation)}_calculateObjectTransform(e,i){return hi(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&Q(i,i,this._worldFrame),Q(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,R(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(R(this._engineResources))for(const i in this._engineResources.objectsByState){const s=this._engineResources.objectsByState[i];for(const n of s.objects)if(n.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function Je(t){return t[12]!==0||t[13]!==0||t[14]!==0}function os(t,e,i){switch(t.viewingMode){case"local":return Se(i),!0;case"global":{const s=ui(t.renderCoordsHelper.spatialReference);return gi(e,0,re,0,s.radius),pi(he(re[0]),he(re[1]),i),!0}}}const cs=pt(),Ke=Ht(),Ee=gt(),et=mi(),ls=V(),oe=V(),ce=Bt(),re=S(),tt=S(),it=S(),st=S(),rt=S(),ds=S(),nt=new te({x:0,y:0,z:0,spatialReference:null});function hs(t){t.vertex.uniforms.add("cameraPosition","vec3").add("perScreenPixelRatio","float").add("screenSize","float"),t.vertex.code.add($`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));
return viewDirectionDistance*perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;
}`)}function us(t,e,i){t.setUniform1f("perScreenPixelRatio",i.camera.perScreenPixelRatio),t.setUniform1f("screenSize",e.screenSize)}function gs(t){const e=new ft;return e.include(fi,{linearDepth:!1}),e.include(hs,{}),e.include(_i,t),e.fragment.include(bi),e.vertex.uniforms.add("proj","mat4").add("view","mat4"),e.fragment.uniforms.add("uColor","vec4"),e.attributes.add(_.POSITION,"vec3"),e.varyings.add("vWorldPosition","vec3"),t.multipassTerrainEnabled&&e.varyings.add("depth","float"),t.screenSizeEnabled&&e.attributes.add(_.OFFSET,"vec3"),t.shadingEnabled&&(e.vertex.uniforms.add("viewNormal","mat4"),e.fragment.uniforms.add("shadedColor","vec4").add("shadingDirection","vec3"),e.attributes.add(_.NORMAL,"vec3"),e.varyings.add("vViewNormal","vec3")),e.vertex.code.add($`
    void main(void) {
      vWorldPosition = ${t.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `),t.shadingEnabled&&e.vertex.code.add($`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),e.vertex.code.add($`
    ${t.multipassTerrainEnabled?"depth = (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `),t.multipassTerrainEnabled&&(e.fragment.include(vi),e.include(yi,t)),e.fragment.code.add($`
    void main() {
      discardBySlice(vWorldPosition);
      ${t.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
    `),t.shadingEnabled?e.fragment.code.add($`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(uColor, shadedColor, shadingFactor);`):e.fragment.code.add($`vec4 finalColor = uColor;`),e.fragment.code.add($`
      if (finalColor.a < ${$.float(Ei)}) {
        discard;
      }
      ${t.output===k.Alpha?$`gl_FragColor = vec4(finalColor.a);`:""}

      ${t.output===k.Color?$`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.oitEnabled?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}`:""}
    }
    `),e}const ps=Object.freeze({__proto__:null,build:gs});class me extends bt{initializeProgram(e){const i=me.shader.get(),s=this.configuration,n=i.build({output:s.output,slicePlaneEnabled:s.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:s.screenSizeEnabled,shadingEnabled:s.shadingEnabled,oitEnabled:s.transparencyPassType===se.Color,multipassTerrainEnabled:s.multipassTerrainEnabled,cullAboveGround:s.cullAboveGround});return new vt(e.rctx,n,jt)}bindPass(e,i){const{screenSizeEnabled:s,shadingEnabled:n}=this.configuration,{color:r,shadingTint:a,shadingDirection:c}=e;yt(this.program,i.camera.projectionMatrix),this.program.setUniform4fv("uColor",r),i.multipassTerrainEnabled&&(this.program.setUniform2fv("nearFar",i.camera.nearFar),this.program.setUniform2fv("inverseViewport",i.inverseViewport),Ti(this.program,i)),n&&(this.program.setUniform4fv("shadedColor",this._blendColor(ms,a,r)),this.program.setUniform3fv("shadingDirection",c),this.program.setUniformMatrix4fv("viewNormal",i.camera.viewInverseTransposeMatrix)),s&&us(this.program,e,i)}bindDraw(e){Et(this.program,e),wi(this.program,e.origin,e.camera.viewInverseTransposeMatrix),Oi(this.program,this.configuration,e),this.program.rebindTextures()}_blendColor(e,i,s){const n=1-i[3],r=i[3]+s[3]*n;return r===0?(e[3]=r,e):(e[0]=(i[0]*i[3]+s[0]*s[3]*n)/r,e[1]=(i[1]*i[3]+s[1]*s[3]*n)/r,e[2]=(i[2]*i[3]+s[2]*s[3]*n)/r,e[3]=s[3],e)}_setPipelineState(e){const i=this.configuration,s=e===se.NONE,n=e===se.FrontFace;return Tt({blending:i.output!==k.Color&&i.output!==k.Alpha||!i.transparent?null:s?Si:$i(e),culling:Ai(i.cullFace),depthTest:{func:n?le.LESS:i.shadingEnabled?le.LEQUAL:le.LESS},depthWrite:s?i.writeDepth&&Ri:Li(e),colorWrite:wt,polygonOffset:s||n?null:Pi})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}me.shader=new Ot(ps,()=>import("./ShadedColorMaterial.glsl.78bc1802.js"));class C extends _t{constructor(){super(...arguments),this.output=k.Color,this.cullFace=j.None,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=se.NONE,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}w([I({count:k.COUNT})],C.prototype,"output",void 0),w([I({count:j.COUNT})],C.prototype,"cullFace",void 0),w([I()],C.prototype,"slicePlaneEnabled",void 0),w([I()],C.prototype,"transparent",void 0),w([I()],C.prototype,"writeDepth",void 0),w([I()],C.prototype,"screenSizeEnabled",void 0),w([I()],C.prototype,"shadingEnabled",void 0),w([I({count:se.COUNT})],C.prototype,"transparencyPassType",void 0),w([I()],C.prototype,"multipassTerrainEnabled",void 0),w([I()],C.prototype,"cullAboveGround",void 0);const jt=new Map([[_.POSITION,0],[_.NORMAL,1],[_.OFFSET,2]]),ms=Ci();class fs extends $t{constructor(e){super(e,bs),this.supportsEdges=!0,this.techniqueConfig=new C,this._vertexAttributeLocations=jt}getTechniqueConfig(e,i){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled,this.techniqueConfig.transparencyPassType=i.transparencyPassType,this.techniqueConfig.multipassTerrainEnabled=i.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=i.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.parameters}intersect(e,i,s,n,r,a,c){if(this.parameters.screenSizeEnabled){const h=e.vertexAttributes.get(_.OFFSET);$e(e,i,n,r,a,{applyToVertex:(l,o,u,v)=>{const p=G(at,h.data[3*v+0],h.data[3*v+1],h.data[3*v+2]),g=G(ys,l,o,u);return P(p,p,this.parameters.screenSize*n.camera.computeRenderPixelSizeAt(p)),L(g,g,p),[g[0],g[1],g[2]]},applyToAabb:l=>{const o=Mi(l,at);return Di(l,this.parameters.screenSize*n.camera.computeRenderPixelSizeAt(o))}},c)}else $e(e,i,n,r,a,void 0,c)}requiresSlot(e,i){if(ki(i)===k.Highlight)return e===Y.OPAQUE_MATERIAL;let s=Y.OPAQUE_MATERIAL;return this.parameters.transparent&&(s=this.parameters.writeDepth?Y.TRANSPARENT_MATERIAL:Y.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===s||e===Y.DRAPED_MATERIAL}createGLMaterial(e){return e.output===k.Color||e.output===k.Alpha||e.output===k.Highlight?new _s(e):null}createBufferWriter(){return new vs(this.parameters.screenSizeEnabled)}}class _s extends At{updateParameters(e){return this.ensureTechnique(me,e)}beginSlot(e){return this.updateParameters(e)}bind(e,i){i.bindPass(this._material.getPassParameters(),e)}}const bs=be({color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:q(S(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:j.None,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0},St);class vs{constructor(e){this.screenSizeEnabled=e;const i=Fi().vec3f(_.POSITION).vec3f(_.NORMAL);this.screenSizeEnabled&&i.vec3f(_.OFFSET),this.vertexBufferLayout=i}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(_.POSITION).length}write(e,i,s,n){if(Ii(i,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,s,n),this.screenSizeEnabled){if(!i.vertexAttributes.has(_.OFFSET))throw new Error(`${_.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const r=i.vertexAttributes.get(_.OFFSET),a=i.indices.get(_.OFFSET);ji(r.size===3);const c=s.getField(_.OFFSET,xi);if(!c)throw new Error("unable to acquire view for "+_.OFFSET);Ni(a,r.data,e.invTranspTransformation,c,n)}}}}const at=S(),ys=S();function mr(t,e=O.OccludeAndTransparent,i=!0){const s=Rt(t[0],t[1],t[2],t.length>3?t[3]:1),n=t[3]<1;return i?new fs({color:s,transparent:n,writeDepth:!0,cullFace:j.Back,renderOccluded:e}):new X({color:s,transparent:n,writeDepth:!0,cullFace:j.Back,renderOccluded:e})}function fr(t,e=O.OccludeAndTransparent){const i=Rt(t[0],t[1],t[2],t.length===4?t[3]:1);return new X({color:i,transparent:!0,writeDepth:!0,cullFace:j.Front,renderOccluded:e})}function _r(t,e,i,s){const n=U(m.get(),t,i),r=xt(n,Lt(m.get(),s,n),i,pe.get());zi(r,r);const a=B(m.get(),e,r);return Math.atan2(a[1],a[0])}function xt(t,e,i,s){const n=q(m.get(),t),r=q(m.get(),e),a=Lt(m.get(),n,r);return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=0,s[4]=r[0],s[5]=r[1],s[6]=r[2],s[7]=0,s[8]=a[0],s[9]=a[1],s[10]=a[2],s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}function Es(t,e){const i=t.getViewForGraphic(e);return R(i)&&"computeAttachmentOrigin"in i?i.computeAttachmentOrigin(e,t.spatialReference):null}function br(t,e,i){const s=Es(t,i);R(s)?e.elevationAlignedLocation=s:Ts(e,i.geometry)}function Ts(t,e){if(T(e))return;const i=e.type==="mesh"?e.anchor:Ui(e);T(i)||(t.location=Wi(i))}Vi("mac");const ws=2,Os=1.15,Ss=1.15,$s=1.1,As=.7,K=[1,.5,0],vr=2,Rs=1,Ls=[...K,As],Ps=[0,0,0,.04],Cs=[...K,.5],ks=[...K,1],Fs=[1,1,1,1],Is=[1,.8,.6,1],js=[1,.93,.86,1],xs=[...K,1],Ns=[...K,1],Ms=3,ot=11,Ds=22.5,Te=40,ct=48,zs=2.25,Us=[...K,1],Ws=4,lt=1,Vs=.3,Gs=6,qs=4,dt=12,Hs=40,Bs=27;function Ys(){const t=new ft;return t.extensions.add("GL_OES_standard_derivatives"),t.vertex.uniforms.add("proj","mat4").add("view","mat4"),t.attributes.add(_.POSITION,"vec3"),t.attributes.add(_.UV0,"vec2"),t.varyings.add("vUV","vec2"),t.vertex.code.add($`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),t.fragment.uniforms.add("backgroundColor","vec4").add("gridColor","vec4").add("ratio","float").add("gridWidth","float"),t.fragment.code.add($`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
gl_FragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),t}const Xs=Object.freeze({__proto__:null,build:Ys});class fe extends bt{initializeProgram(e){const i=fe.shader.get().build();return new vt(e.rctx,i,Gi)}bindPass(e,i){yt(this.program,i.camera.projectionMatrix),this.program.setUniform4fv("backgroundColor",e.backgroundColor),this.program.setUniform4fv("gridColor",e.gridColor),this.program.setUniform1f("gridWidth",e.gridWidth)}bindDraw(e){Et(this.program,e),this.program.rebindTextures()}initializePipeline(){return Tt({blending:qi(ae.ONE,ae.ONE,ae.ONE_MINUS_SRC_ALPHA,ae.ONE_MINUS_SRC_ALPHA),depthTest:{func:le.LESS},colorWrite:wt})}}fe.shader=new Ot(Xs,()=>import("./SlicePlaneMaterial.glsl.bbc17acc.js"));class Qs extends $t{constructor(e){super(e,Js),this._config=new _t}intersect(e,i,s,n,r,a,c){return $e(e,i,n,r,a,void 0,c)}createBufferWriter(){return new Hi(Bi)}requiresSlot(e){return e===Y.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL}createGLMaterial(e){return e.output===k.Color?new Zs(e):null}getTechniqueConfig(){return this._config}}class Zs extends At{constructor(e){super(e),this.ensureTechnique(fe,null)}updateParameters(){return ie(this.technique)}beginSlot(){return ie(this.technique)}bind(e,i){i.bindPass(this._material.parameters,e)}}const Js=be({backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4},St);class Ks extends is{constructor(e){super(e),this._material=null,this._renderOccluded=O.OccludeAndTransparent,this._gridWidth=1,this._gridColor=qe(1,0,0,1),this._backgroundColor=qe(1,0,0,1),this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){He(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){He(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new Qs(this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){R(this._material)&&e(this._material)}createGeometries(e){if(R(this._material)){const i=x.createSquareGeometry();e.addGeometry(i,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){R(this._material)&&this._material.setParameters(this.materialParameters)}}const er=Yi.getLogger("esri.views.3d.interactive.analysisTools.slice.sliceToolUtils");function tr(t,e,i){const s=e.worldUpAtPosition(t.origin,m.get()),n=t.basis1,r=Ce(t,s),a=Math.round(r/J)*J;return Re(t,a-r,n,i)}function yr(t,e){return xt(t.basis1,t.basis2,t.origin,e)}function Er(t,e,i,s){const n=e.worldUpAtPosition(t.origin,m.get()),r=m.get();switch(i){case ue.HEADING:de(r,n);break;case ue.TILT:de(r,t.basis1)}return Oe(t.origin,r,s)}function Tr(t,e,i,s){const n=Z(s.basis1),r=Z(s.basis2),a=Nt(s),c=sr(s),h=G(m.get(),0,0,0);L(h,P(m.get(),s.basis1,e.direction[0]),P(m.get(),s.basis2,e.direction[1])),L(h,s.origin,h);let d=0,l=1;if(Mt(e))e.direction[0]===1&&e.direction[1]===-1?d=J:e.direction[0]===1&&e.direction[1]===1?d=Math.PI:e.direction[0]===-1&&e.direction[1]===1&&(d=3*Math.PI/2),l=c;else{const u=e.direction[0]!==0?1:2;d=u===1?J:0,l=(u===1?r:n)-a}const o=Pt(pe.get(),d);Ct(o,o,G(m.get(),l,l,l)),Q(o,i,o),o[12]=0,o[13]=0,o[14]=0,t.modelTransform=o,t.renderLocation=h}function wr(t,e,i,s){const n=s.worldUpAtPosition(i.origin,m.get()),r=ir(i,W.POSITIVE_X),a=Pt(pe.get(),r.edge*Math.PI/2);Xi(a,a,-Ce(i,n)),Q(a,e,a),a[12]=0,a[13]=0,a[14]=0,t.modelTransform=a,t.renderLocation=r.position}var W;function ir(t,e){switch(e){case W.POSITIVE_X:return{basis:t.basis1,direction:1,position:L(m.get(),t.origin,t.basis1),edge:e};case W.POSITIVE_Y:return{basis:t.basis2,direction:1,position:L(m.get(),t.origin,t.basis2),edge:e};case W.NEGATIVE_X:return{basis:t.basis1,direction:-1,position:U(m.get(),t.origin,t.basis1),edge:e};case W.NEGATIVE_Y:return{basis:t.basis2,direction:-1,position:U(m.get(),t.origin,t.basis2),edge:e}}}function Nt(t){const e=Z(t.basis1),i=Z(t.basis2);return Vs*Math.min(e,i)}function sr(t){return Nt(t)}function Mt(t){return t.direction[0]!==0&&t.direction[1]!==0}function Or(t,e=ge.CENTER_ON_ARROW){const i=e===ge.CENTER_ON_CALLOUT?Te:0,s=[D(i,0,-ct/2),D(i,0,ct/2)],n=ar(s,!0),r=(g,f)=>rr(s,s,{tubeRadius:Ms,tipRadius:ot,tipLength:Ds,tubeFocusMultiplier:Os,tipFocusMultiplier:Ss,padding:g,bothEnds:!0,flat:null,focusTipLength:!0,addCap:f}),a=r(0,!1),c=r(zs,!0),h=new X({color:Fs,cullFace:j.Back,renderOccluded:O.Opaque}),d=new X({color:Is,cullFace:j.Back,renderOccluded:O.Opaque}),l=new X({color:js,cullFace:j.Back,renderOccluded:O.Opaque}),o=new X({color:Ns,transparent:!0,writeDepth:!1,cullFace:j.Front,renderOccluded:O.Transparent}),u=x.createPolylineGeometry([[i,0,0],[i-Te,0,0]]),v=x.createPolylineGeometry([[i,0,0],[i-Te,0,0]]),p=new Le({color:xs,renderOccluded:O.OccludeAndTransparent});return new Pe({view:t,renderObjects:[...a.normal.map(({part:g,geometry:f,transform:E})=>({geometry:f,material:g==="tip"?h:g==="cap"?d:l,transform:E,stateMask:y.Unfocused|A})),...c.normal.map(({geometry:g,transform:f})=>({geometry:g,material:o,transform:f,stateMask:y.Unfocused|A})),{geometry:u,material:p,stateMask:y.Unfocused|A|ut},...a.focused.map(({part:g,geometry:f,transform:E})=>({geometry:f,material:g==="tip"?h:g==="cap"?d:l,transform:E,stateMask:y.Focused|A})),...c.focused.map(({geometry:g,transform:f})=>({geometry:g,material:o,transform:f,stateMask:y.Focused|A})),{geometry:v,material:p,stateMask:y.Focused|A|ut}],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[n]},collisionPriority:1,radius:ot,state:A})}function Sr(t,e){const i=new ns({transparent:!0,writeDepth:!1,textureId:e.id,renderOccluded:O.Opaque}),s=Hs,n=Bs,r=n*$s,a=o=>{const u=new Uint32Array([0,1,2,2,3,0]);return new Zi([[_.POSITION,{size:3,data:[s-o,-o,0,s+o,-o,0,s+o,o,0,s-o,o,0],exclusive:!0}],[_.UV0,{size:2,data:[0,0,1,0,1,1,0,1]}]],[[_.POSITION,u],[_.UV0,u]])},c=x.createPolylineGeometry([[0,0,0],[s-n,0,0]]),h=x.createPolylineGeometry([[0,0,0],[s-r,0,0]]),d=new Le({color:ks,renderOccluded:O.OccludeAndTransparent}),l=[{geometry:a(n),material:i,stateMask:y.Unfocused|A},{geometry:c,material:d,stateMask:y.Unfocused|A},{geometry:a(r),material:i,stateMask:y.Focused|A},{geometry:h,material:d,stateMask:y.Focused|A}];return new Pe({view:t,renderObjects:l,autoScaleRenderObjects:!1,collisionType:{type:"disc",direction:[0,0,1],offset:[s,0,0]},collisionPriority:1,radius:n/2,state:A})}function $r(t){const e=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]];return new ss({view:t,attached:!0,color:Ls,width:Rs,writeDepthEnabled:!1,renderOccluded:O.OccludeAndTransparent,geometry:[e]})}function Ar(t){return new Ks({view:t,attached:!0,backgroundColor:[...Ps],gridColor:Cs,gridWidth:4,renderOccluded:O.OccludeAndTransparent})}function Rr(t,e){const i=Mt(e),s=i?[D(1,0,0),D(0,0,0),D(0,1,0)]:[D(1,0,0),D(-1,0,0)],n=x.createPolylineGeometry(s),r=Us,a=p=>new Qi({color:r,width:p,renderOccluded:O.OccludeAndTransparent}),c=()=>new Le({color:r,renderOccluded:O.OccludeAndTransparent}),h=i?Ws:lt,d=h*ws,l=lt,o=p=>p>1?a(p):c(),u=[{geometry:n,material:o(h),stateMask:y.Unfocused|we},{geometry:n,material:o(d),stateMask:y.Focused|we},{geometry:n,material:o(l),stateMask:lr}],v=new Pe({view:t,renderObjects:u,collisionType:{type:"line",paths:[s]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?Gs:qs});return v.state=we,v}function rr(t,e,i){const s=n=>{const r=(n?e:t).slice(0),a=U(m.get(),r[0],r[1]);q(a,a);const c=U(m.get(),r[r.length-1],r[r.length-2]);if(q(c,c),i.padding>0){const b=P(S(),c,-i.padding);if(r[r.length-1]=L(b,b,r[r.length-1]),i.bothEnds){const F=P(S(),a,-i.padding);r[0]=L(F,F,r[0])}}const h=n?i.tipFocusMultiplier:1,d=i.tipLength*(i.focusTipLength?h:1),l=i.tipRadius*h,o=Se(pe.get());if(i.padding>0){const b=d/4,F=G(m.get(),0,b,0),M=1+i.padding/b;Be(o,o,F),Ct(o,o,G(m.get(),M,M,M)),Be(o,o,P(F,F,-1/M))}const u=Se(V()),v=D(0,1,0),p=Ye(V(),Xe(Qe.get(),v,c));p[12]=r[r.length-1][0],p[13]=r[r.length-1][1],p[14]=r[r.length-1][2],Q(p,p,o);const g=[{part:"tube",geometry:nr(i.tubeRadius*(n?i.tubeFocusMultiplier:1)+i.padding,i.flat,r),transform:u}];let f,E;if(R(i.flat)?f=x.createExtrudedTriangle(d,l,l,i.flat.thickness):(f=x.createConeGeometry(d,l,24,!1,!1,!0),E=x.createConeGeometry(d,l,24,!1,!0,!1)),g.push({part:"tip",geometry:f,transform:p}),E&&g.push({part:"cap",geometry:E,transform:p}),i.bothEnds){const b=Ye(V(),Xe(Qe.get(),v,a));b[12]=r[0][0],b[13]=r[0][1],b[14]=r[0][2],Q(b,b,o),g.push({part:"tip",geometry:f,transform:b}),E&&g.push({part:"cap",geometry:E,transform:b})}return g};return{normal:s(!1),focused:s(!0)}}function nr(t,e,i){const s=[];if(R(e))s.push([t,e.thickness/2],[-t,e.thickness/2],[-t,-e.thickness/2],[t,-e.thickness/2]);else for(let r=0;r<12;r++){const a=r/12*2*Math.PI;s.push([Math.cos(a)*t,Math.sin(a)*t])}return x.createPathExtrusionGeometry(s,i,[],[],!1)}function ar(t,e){const i=U(S(),t[t.length-1],t[t.length-2]);if(q(i,i),P(i,i,dt),L(i,i,t[t.length-1]),e){const s=U(S(),t[0],t[1]);return q(s,s),P(s,s,dt),L(s,s,t[0]),[s,...t,i]}return[...t,i]}function Lr(t,e,i,s=new as){if(T(t))return null;const{renderCoordsHelper:n}=e,r=n.fromRenderCoords(t.origin,e.spatialReference);if(T(r))return null;const a=Ji(r,i);if(T(a))return null;s.position=a;const c=n.worldUpAtPosition(t.origin,m.get()),h=n.worldBasisAtPosition(t.origin,Ae.Y,m.get()),d=2*Z(t.basis1),l=2*Z(t.basis2),o=Ft.renderUnitScaleFactor(e.spatialReference,i);return s.width=d*o,s.height=l*o,s.tilt=Ze(Ce(t,c)),s.heading=Ze(or(t,c,h)),s}function Ce(t,e){return kt(e,t.basis2,t.basis1)+J}function or(t,e,i){return kt(t.basis1,i,e)-J}function cr(t,e,i,s,n,r,a=It()){return r.toRenderCoords(t,a.origin)?(r.worldBasisAtPosition(a.origin,Ae.X,a.basis1),r.worldBasisAtPosition(a.origin,Ae.Y,a.basis2),Ki(a.basis2,a.basis1,a.origin,a.plane),Re(a,-he(e),es(a),a),Re(a,he(i),a.basis1,a),P(a.basis1,a.basis1,s/2),P(a.basis2,a.basis2,n/2),ts(a),a):(er.error(`Failed to project slice plane position, projection from ${t.spatialReference.wkid} is not supported`),null)}function Pr(t,e){if(T(t)||T(t.position))return null;const i=rs(t.position,e.spatialReference,e.elevationProvider);if(T(i))return null;const s=Ft.renderUnitScaleFactor(t.position.spatialReference,e.spatialReference),n=t.width*s,r=t.height*s;return{position:i,heading:t.heading,tilt:t.tilt,renderWidth:n,renderHeight:r}}function Cr(t,e,i,s=It()){if(T(t))return null;const n=cr(t.position,t.heading,t.tilt,t.renderWidth,t.renderHeight,e.renderCoordsHelper,s);return!i.tiltEnabled&&R(n)&&tr(n,e.renderCoordsHelper,n),n}function kr(t){switch(t.type){case"analysis":case"building-scene":case"csv":case"feature":case"geo-rss":case"geojson":case"graphics":case"group":case"integrated-mesh":case"kml":case"map-notes":case"ogc-feature":case"point-cloud":case"route":case"scene":case"stream":case"voxel":case"subtype-group":case"unknown":case"unsupported":case"wfs":case null:return!1;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"elevation":case"imagery":case"imagery-tile":case"map-image":case"open-street-map":case"tile":case"vector-tile":case"wcs":case"web-tile":case"wms":case"wmts":return!0;default:return mt(t.type),!1}}(function(t){t[t.POSITIVE_X=0]="POSITIVE_X",t[t.POSITIVE_Y=1]="POSITIVE_Y",t[t.NEGATIVE_X=2]="NEGATIVE_X",t[t.NEGATIVE_Y=3]="NEGATIVE_Y"})(W||(W={}));const A=z.Custom1;var ue,ht;(function(t){t[t.HEADING=1]="HEADING",t[t.TILT=2]="TILT"})(ue||(ue={})),function(t){t[t.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t[t.VERTICAL=2]="VERTICAL",t[t.TILTED=3]="TILTED"}(ht||(ht={}));const ut=z.Custom2;gt();const J=Math.PI/2,we=z.Custom1,lr=z.Custom2;var ge;function Fr(t){const e=t.type==="building-scene-3d"?t:null;return R(e)}(function(t){t[t.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",t[t.CENTER_ON_ARROW=1]="CENTER_ON_ARROW"})(ge||(ge={}));export{Rs as C,fs as F,yr as K,kr as L,Cr as M,_r as O,Er as Q,Ls as S,Ps as U,lr as V,ut as _,vr as a,Cs as b,Es as c,fr as d,Or as e,ge as f,Ar as g,as as h,Rr as i,Pr as j,we as k,sr as l,Sr as m,ue as n,gs as o,$r as p,Ys as q,Tr as r,wr as s,Pe as t,Mt as u,br as v,mr as w,Fr as x,Lr as y};
