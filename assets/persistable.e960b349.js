var z=Object.defineProperty,N=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var v=(t,e,n)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d=(t,e)=>{for(var n in e||(e={}))K.call(e,n)&&v(t,n,e[n]);if(h)for(var n of h(e))B.call(e,n)&&v(t,n,e[n]);return t},w=(t,e)=>N(t,F(e));import{fT as I,fU as J,K as l,fV as T,fW as b,M as U,fX as V,fY as k,fZ as A,f_ as G,f$ as M,g0 as x,g1 as W,g2 as X,g3 as Y,b6 as Z,g4 as _}from"./vendor.5a0f9a12.js";function f(t){return y[q(t)]||D}function q(t){return t instanceof Blob?t.type:C(t.url)}function C(t){const e=I(t);return m[e]||j}const y={},j="text/plain",D=y[j],m={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const t in m)y[m[t]]=t;function ot(t){const e=l(t)&&t.origins?t.origins:[void 0];return(n,i)=>{const o=E(t,n,i);for(const a of e){const s=J(n,a,i);for(const r in o)s[r]=o[r]}}}function E(t,e,n){if(l(t)&&t.type==="resource")return H(t,e,n);switch(l(t)&&t.type?t.type:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:i,write:o}=_;return{read:i,write:o}}}}function H(t,e,n){const i=W(e,n);return{type:String,read:(o,a,s)=>{const r=T(o,a,s);return i.type===String?r:typeof i.type=="function"?new i.type({url:r}):void 0},write:{writer(o,a,s,r){if(!r||!r.resources)return typeof o=="string"?void(a[s]=b(o,r)):void(a[s]=o.write({},r));const c=et(o),p=c?b(c,w(d({},r),{verifyItemRelativeUrls:r&&r.verifyItemRelativeUrls?{writtenUrls:r.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}),V.NO):null,u=i.type!==String&&(!k(this)||r&&r.origin&&this.originIdOf(n)>A(r.origin));r&&r.portalItem&&l(p)&&!G(p)?u?L(this,n,o,p,a,s,r,t):Q(p,a,s,r):r&&r.portalItem&&(U(p)||l(M(p))||x(p)||u)?R(this,n,o,p,a,s,r,t):a[s]=p}}}}function R(t,e,n,i,o,a,s,r){const c=X(),p=S(n,i,s),u=Y(Z(r,"prefix"),c),$=`${u}.${f(p)}`,g=s.portalItem.resourceFromPath($);x(i)&&s.resources.pendingOperations.push(tt(i).then(P=>{g.path=`${u}.${f(P)}`,o[a]=g.itemRelativeUrl}).catch(()=>{})),O(t,e,g,p,s.resources.toAdd),o[a]=g.itemRelativeUrl}function L(t,e,n,i,o,a,s,r){const c=s.portalItem.resourceFromPath(i),p=S(n,i,s);f(p)===I(c.path)?(O(t,e,c,p,s.resources.toUpdate),o[a]=i):R(t,e,n,i,o,a,s,r)}function Q(t,e,n,i){i.resources.toKeep.push({resource:i.portalItem.resourceFromPath(t)}),e[n]=t}function O(t,e,n,i,o){o.push({resource:n,content:i,finish:a=>{nt(t,e,a)}})}function S(t,e,n){return typeof t=="string"?{url:e}:new Blob([JSON.stringify(t.toJSON(n))],{type:"application/json"})}async function tt(t){const e=(await import("./vendor.5a0f9a12.js").then(function(i){return i.t$})).default,{data:n}=await e(t,{responseType:"blob"});return n}function et(t){return U(t)?null:typeof t=="string"?t:t.url}function nt(t,e,n){typeof t[e]=="string"?t[e]=n.url:t[e].url=n.url}export{ot as w};
